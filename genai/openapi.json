{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"servers":[{"url":"/api/genai/v1"}],"paths":{"/metrics":{"get":{"summary":"Metrics","description":"Endpoint that serves Prometheus metrics.","operationId":"metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health Check","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/recipe/matching":{"post":{"summary":"Generate one matching recipe","description":"Generates one matching recipe that uses no more than the available ingredients.","operationId":"generate_recipe_matching_recipe_matching_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ingredients-Input","description":"Available ingredients"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recipes"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recipe/matching/{num_recipes}":{"post":{"summary":"Generate number of matching recipes","description":"Generates multiple matching recipes. That are all different and use no more than the available ingredients.","operationId":"generate_recipes_matching_recipe_matching__num_recipes__post","parameters":[{"name":"num_recipes","in":"path","required":true,"schema":{"type":"integer","description":"Number of recipes to return","title":"Num Recipes"},"description":"Number of recipes to return"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ingredients-Input","description":"Available ingredients"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recipes"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recipe/exploratory":{"post":{"summary":"Generate one exploratory recipe","description":"An exploratory recipes can use more than the available ingredients as well as new ones.","operationId":"generate_recipe_exploratory_recipe_exploratory_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ingredients-Input","description":"Available ingredients"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recipes"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recipe/exploratory/{num_recipes}":{"post":{"summary":"Generate number of exploratory recipes","description":"An exploratory recipes can use more than the available ingredients as well as new ones. All returned recipes are different.","operationId":"generate_recipes_exploratory_recipe_exploratory__num_recipes__post","parameters":[{"name":"num_recipes","in":"path","required":true,"schema":{"type":"integer","description":"Number of recipes to return","title":"Num Recipes"},"description":"Number of recipes to return"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ingredients-Input","description":"Available ingredients"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Recipes"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recipe/search":{"post":{"summary":"Search in all generated recipes","description":"Search in the recipe title, description, ingredients and steps. Returns full recipes up to the number specified in the search request.","operationId":"recipe_search_recipe_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest","description":"Search request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/image/analyze":{"post":{"summary":"Finds ingredients in fridge image","description":"Takes an base64 encoded image of a fridge (preferably open). Tries to find as many and as accurate ingredients as possible from the image.","operationId":"analyze_fridge_image_analyze_post","requestBody":{"content":{"application/json":{"schema":{"type":"string","title":"Image Base64","description":"Image as base64 string"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ingredients-Output"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Difficulty":{"type":"string","enum":["easy","medium","advanced"],"title":"Difficulty"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Ingredient":{"properties":{"name":{"type":"string","title":"Name","description":"Name of ingredient"},"amount":{"type":"integer","title":"Amount","description":"Amount of ingredient"},"unit":{"$ref":"#/components/schemas/Unit","description":"Unit of amount"}},"type":"object","required":["name","amount","unit"],"title":"Ingredient"},"Ingredients-Input":{"properties":{"ingredients":{"items":{"$ref":"#/components/schemas/Ingredient"},"type":"array","title":"Ingredients"}},"type":"object","required":["ingredients"],"title":"Ingredients"},"Ingredients-Output":{"properties":{"ingredients":{"items":{"$ref":"#/components/schemas/Ingredient"},"type":"array","title":"Ingredients"}},"type":"object","required":["ingredients"],"title":"Ingredients"},"Recipe":{"properties":{"title":{"type":"string","title":"Title","description":"Title of recipe"},"description":{"type":"string","maxLength":80,"title":"Description","description":"Description of recipe maximum 80 characters"},"difficulty":{"$ref":"#/components/schemas/Difficulty","description":"Difficulty of recipe"},"cook_time":{"type":"integer","title":"Cook Time","description":"Time needed for recipe"},"ingredients":{"items":{"$ref":"#/components/schemas/Ingredient"},"type":"array","title":"Ingredients","description":"List of ingredients needed for recipe already available"},"needed_ingredients":{"items":{"$ref":"#/components/schemas/Ingredient"},"type":"array","title":"Needed Ingredients","description":"List of ingredients needed for recipe to buy"},"steps":{"items":{"type":"string"},"type":"array","title":"Steps","description":"List of every step needed for recipe"}},"type":"object","required":["title","description","difficulty","cook_time","ingredients","needed_ingredients","steps"],"title":"Recipe"},"Recipes":{"properties":{"recipes":{"items":{"$ref":"#/components/schemas/Recipe"},"type":"array","title":"Recipes","description":"List of recipes"}},"type":"object","required":["recipes"],"title":"Recipes"},"SearchRequest":{"properties":{"query":{"type":"string","title":"Query","description":"Search query"},"count":{"type":"integer","title":"Count","description":"Number of matches"}},"type":"object","required":["query","count"],"title":"SearchRequest"},"Unit":{"type":"string","enum":["pcs","ml","g"],"title":"Unit"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}